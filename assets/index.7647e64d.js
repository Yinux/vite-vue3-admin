var g=(e,t,n)=>new Promise((i,l)=>{var s=a=>{try{f(n.next(a))}catch(m){l(m)}},h=a=>{try{f(n.throw(a))}catch(m){l(m)}},f=a=>a.done?i(a.value):Promise.resolve(a.value).then(s,h);f((n=n.apply(e,t)).next())});import{c as o,A as y,H as _,d as z,r as I,X as S,Y as B,ak as O,U as C,I as F,J as L,a3 as r,W as x,bu as Z,aK as A,O as u,a6 as R,Q as T,S as q,a4 as Y,bv as D,ad as d,bw as U,aM as E,av as M,bx as P,by as V}from"./index.44725425.js";/* empty css              */import{_ as j}from"./logo.d49f8590.js";var N={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64L128 192v384c0 212.1 171.9 384 384 384s384-171.9 384-384V192L512 64zm312 512c0 172.3-139.7 312-312 312S200 748.3 200 576V246l312-110 312 110v330z"}},{tag:"path",attrs:{d:"M378.4 475.1a35.91 35.91 0 00-50.9 0 35.91 35.91 0 000 50.9l129.4 129.4 2.1 2.1a33.98 33.98 0 0048.1 0L730.6 434a33.98 33.98 0 000-48.1l-2.8-2.8a33.98 33.98 0 00-48.1 0L483 579.7 378.4 475.1z"}}]},name:"safety",theme:"outlined"},$=N;function k(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},i=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable}))),i.forEach(function(l){H(e,l,n[l])})}return e}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=function(t,n){var i=k({},t,n.attrs);return o(y,k({},i,{icon:$}),null)};w.displayName="SafetyOutlined";w.inheritAttrs=!1;var J=w;const Q=e=>(T("data-v-2b0ffb8c"),e=e(),q(),e),W={class:"login-box"},X=Q(()=>u("div",{class:"login-logo"},[u("img",{src:j,width:"45"}),u("h1",{class:"mb-0 ml-2 text-3xl font-bold"},"Antd Admin")],-1)),G=["src"],K=Y(" \u767B\u5F55 "),tt=z({__name:"index",setup(e){const t=I({loading:!1,captcha:"",formInline:{username:"",password:"",verifyCode:"",captchaId:""}}),n=S(),i=B(),l=O(),s=()=>g(this,null,function*(){const{id:f,img:a}=yield D({width:100,height:50});t.captcha=a,t.formInline.captchaId=f});s();const h=()=>g(this,null,function*(){const{username:f,password:a,verifyCode:m}=t.formInline;if(f.trim()==""||a.trim()=="")return d.warning("\u7528\u6237\u540D\u6216\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A\uFF01");if(!m)return d.warning("\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801\uFF01");d.loading("\u767B\u5F55\u4E2D...",0),t.loading=!0,t.formInline;const[p]=yield U(l.login(t.formInline));p?(E.error({title:()=>"\u63D0\u793A",content:()=>p.message}),s()):(d.success("\u767B\u5F55\u6210\u529F\uFF01"),setTimeout(()=>{var b;return i.replace((b=n.query.redirect)!=null?b:"/")})),t.loading=!1,d.destroy()});return(f,a)=>{const m=M,p=P,b=C("a-button"),v=V;return F(),L("div",W,[X,o(v,{layout:"horizontal",model:t.formInline,onSubmit:R(h,["prevent"])},{default:r(()=>[o(p,null,{default:r(()=>[o(m,{value:t.formInline.username,"onUpdate:value":a[0]||(a[0]=c=>t.formInline.username=c),size:"large",placeholder:"rootadmin"},{prefix:r(()=>[o(x(Z),{type:"user"})]),_:1},8,["value"])]),_:1}),o(p,null,{default:r(()=>[o(m,{value:t.formInline.password,"onUpdate:value":a[1]||(a[1]=c=>t.formInline.password=c),size:"large",type:"password",placeholder:"123456",autocomplete:"new-password"},{prefix:r(()=>[o(x(A),{type:"user"})]),_:1},8,["value"])]),_:1}),o(p,null,{default:r(()=>[o(m,{value:t.formInline.verifyCode,"onUpdate:value":a[2]||(a[2]=c=>t.formInline.verifyCode=c),placeholder:"\u9A8C\u8BC1\u7801",maxlength:4,size:"large"},{prefix:r(()=>[o(x(J))]),suffix:r(()=>[u("img",{src:t.captcha,class:"absolute right-0 h-full cursor-pointer",onClick:s},null,8,G)]),_:1},8,["value"])]),_:1}),o(p,null,{default:r(()=>[o(b,{type:"primary","html-type":"submit",size:"large",loading:t.loading,block:""},{default:r(()=>[K]),_:1},8,["loading"])]),_:1})]),_:1},8,["model","onSubmit"])])}}});var rt=_(tt,[["__scopeId","data-v-2b0ffb8c"]]);export{rt as default};

var _=Object.defineProperty,g=Object.defineProperties;var O=Object.getOwnPropertyDescriptors;var v=Object.getOwnPropertySymbols;var k=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable;var M=(t,n,e)=>n in t?_(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e,j=(t,n)=>{for(var e in n||(n={}))k.call(n,e)&&M(t,e,n[e]);if(v)for(var e of v(n))x.call(n,e)&&M(t,e,n[e]);return t},y=(t,n)=>g(t,O(n));var r=(t,n,e)=>new Promise((f,w)=>{var a=c=>{try{i(e.next(c))}catch(u){w(u)}},s=c=>{try{i(e.throw(c))}catch(u){w(u)}},i=c=>c.done?f(c.value):Promise.resolve(c.value).then(a,s);i((e=e.apply(t,n)).next())});import{cC as R,j as b,cj as A,c as B,ag as G,n as N,W as T}from"./index.44725425.js";import{_ as V}from"./schema-form.309c9adc.js";function D(){const[t]=R();return[w=>r(this,[w],function*({modalProps:e,formProps:f}){const a=b(),s=i=>{var c,u;(c=a.value)==null||c.resetFields(),(u=e==null?void 0:e.onCancel)==null||u.call(e,i)};return yield t.show(y(j({destroyOnClose:!0},A(e,["onFinish","onFail"])),{onCancel:s,content:()=>{const i=Object.assign({},{showActionButtonGroup:!1},f);return B(V,G({ref:a},i),null)},onOk:()=>r(this,null,function*(){var c,u,h,F;let i;try{i=yield(c=a.value)==null?void 0:c.validate(),yield(u=e==null?void 0:e.onFinish)==null?void 0:u.call(e,i),(h=a.value)==null||h.resetFields()}catch(C){return(F=e==null?void 0:e.onFail)==null||F.call(e,i),Promise.reject(C)}})})),yield N(),[T(a)]}),t]}export{D as u};

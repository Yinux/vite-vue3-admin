!function(){var e=document.createElement("style");e.innerHTML=".sys-server-stat-container[data-v-11512892]{padding:20px;column-count:2;column-gap:10px}.sys-server-stat-container .stat-card[data-v-11512892]{margin-bottom:10px;break-inside:avoid;transform:translateZ(0)}.sys-server-stat-container .stat-card .disk-info[data-v-11512892]{width:100%;display:flex;flex-direction:row}.sys-server-stat-container .stat-card .disk-info--item[data-v-11512892]{width:50%}\n",document.head.appendChild(e),System.register(["./index-legacy.eb8104e3.js","./index-legacy.507b014e.js","./Card-legacy.42db4a14.js","./index-legacy.e0431691.js","./index-legacy.4370461c.js","./Tabs-legacy.f224fea2.js","./pick-legacy.9237dedd.js","./PlusOutlined-legacy.18137da5.js","./index-legacy.3af98c48.js"],(function(e){"use strict";var t,r,a,n,o,l,s,c,i,u,d,p,f,v,g,y,m,b,h,k,C,x,w,S,O,_,j,I,P,L,D,z,W,N,M,A,T,G,V,E,F,$,B,R,H;return{setters:[function(e){t=e.f},function(e){r=e.d,a=e.u,n=e.e,o=e.g,l=e.c,s=e.P,c=e.m,i=e.z,u=e.C,d=e.a7,p=e.i,f=e.dc,v=e.j,g=e.c2,y=e.v,m=e.bg,b=e.be,h=e._,k=e.cF,C=e.F,x=e.cD,w=e.dd,S=e.y,O=e.bB,_=e.de,j=e.I,I=e.V,P=e.cy,L=e.cz,D=e.W,z=e.H,W=e.r,N=e.bf,M=e.o,A=e.G,T=e.J,G=e.a3,V=e.a4,E=e.a5,F=e.aC,$=e.a8,B=e.O},function(e){R=e.C},function(e){H=e.D},function(){},function(){},function(){},function(){},function(){}],execute:function(){var q=r({name:"ACardMeta",props:{prefixCls:String,title:s.any,description:s.any,avatar:s.any},slots:["title","description","avatar"],setup:function(e,t){var r=t.slots,s=a("card",e).prefixCls;return function(){var t=n({},"".concat(s.value,"-meta"),!0),a=o(r,e,"avatar"),c=o(r,e,"title"),i=o(r,e,"description"),u=a?l("div",{class:"".concat(s.value,"-meta-avatar")},[a]):null,d=c?l("div",{class:"".concat(s.value,"-meta-title")},[c]):null,p=i?l("div",{class:"".concat(s.value,"-meta-description")},[i]):null,f=d||p?l("div",{class:"".concat(s.value,"-meta-detail")},[d,p]):null;return l("div",{class:t},[u,f])}}}),J=r({name:"ACardGrid",__ANT_CARD_GRID:!0,props:{prefixCls:String,hoverable:{type:Boolean,default:!0}},setup:function(e,t){var r=t.slots,o=a("card",e).prefixCls,s=c((function(){var t;return n(t={},"".concat(o.value,"-grid"),!0),n(t,"".concat(o.value,"-grid-hoverable"),e.hoverable),t}));return function(){var e;return l("div",{class:s.value},[null===(e=r.default)||void 0===e?void 0:e.call(r)])}}});R.Meta=q,R.Grid=J,R.install=function(e){return e.component(R.name,R),e.component(q.name,q),e.component(J.name,J),e};var U=i("normal","exception","active","success"),Z=i("line","circle","dashboard"),K=i("default","small"),Q=function(){return{prefixCls:String,type:s.oneOf(Z),percent:Number,format:{type:Function},status:s.oneOf(U),showInfo:{type:Boolean,default:void 0},strokeWidth:Number,strokeLinecap:String,strokeColor:{type:[String,Object],default:void 0},trailColor:String,width:Number,success:{type:Object,default:function(){return{}}},gapDegree:Number,gapPosition:String,size:s.oneOf(K),steps:Number,successPercent:Number,title:String}};function X(e){return!e||e<0?0:e>100?100:e}function Y(e){var t=e.success,r=e.successPercent;return t&&"progress"in t&&(u(!1,"Progress","`success.progress` is deprecated. Please use `success.percent` instead."),r=t.progress),t&&"percent"in t&&(r=t.percent),r}var ee=globalThis&&globalThis.__rest||function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]])}return r},te=function(e,t){var r,a,n=e.from,o=void 0===n?f.blue:n,l=e.to,s=void 0===l?f.blue:l,c=e.direction,i=void 0===c?"rtl"===t?"to left":"to right":c,u=ee(e,["from","to","direction"]);if(0!==Object.keys(u).length){var d=(r=u,a=[],Object.keys(r).forEach((function(e){var t=parseFloat(e.replace(/%/g,""));isNaN(t)||a.push({key:t,value:r[e]})})),(a=a.sort((function(e,t){return e.key-t.key}))).map((function(e){var t=e.key,r=e.value;return"".concat(r," ").concat(t,"%")})).join(", "));return{backgroundImage:"linear-gradient(".concat(i,", ").concat(d,")")}}return{backgroundImage:"linear-gradient(".concat(i,", ").concat(o,", ").concat(s,")")}},re=r({name:"Line",props:p(p({},Q()),{prefixCls:String,direction:{type:String}}),setup:function(e,t){var r=t.slots,a=c((function(){var t=e.strokeColor,r=e.direction;return t&&"string"!=typeof t?te(t,r):{background:t}})),n=c((function(){return e.trailColor?{backgroundColor:e.trailColor}:void 0})),o=c((function(){var t=e.percent,r=e.strokeWidth,n=e.strokeLinecap,o=e.size;return p({width:"".concat(X(t),"%"),height:"".concat(r||("small"===o?6:8),"px"),borderRadius:"square"===n?0:""},a.value)})),s=c((function(){return Y(e)})),i=c((function(){var t=e.strokeWidth,r=e.size,a=e.strokeLinecap,n=e.success;return{width:"".concat(X(s.value),"%"),height:"".concat(t||("small"===r?6:8),"px"),borderRadius:"square"===a?0:"",backgroundColor:null==n?void 0:n.strokeColor}}));return function(){var t;return l(d,null,[l("div",{class:"".concat(e.prefixCls,"-outer")},[l("div",{class:"".concat(e.prefixCls,"-inner"),style:n.value},[l("div",{class:"".concat(e.prefixCls,"-bg"),style:o.value},null),void 0!==s.value?l("div",{class:"".concat(e.prefixCls,"-success-bg"),style:i.value},null):null])]),null===(t=r.default)||void 0===t?void 0:t.call(r)])}}}),ae={gapDegree:Number,gapPosition:{type:String},percent:{type:[Array,Number]},prefixCls:String,strokeColor:{type:[Object,String,Array]},strokeLinecap:{type:String},strokeWidth:Number,trailColor:String,trailWidth:Number,transition:String},ne=globalThis&&globalThis.__rest||function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]])}return r},oe=0;function le(e){return+e.replace("%","")}function se(e){return Array.isArray(e)?e:[e]}function ce(e,t,r,a){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5?arguments[5]:void 0,l=50-a/2,s=0,c=-l,i=0,u=-2*l;switch(o){case"left":s=-l,c=0,i=2*l,u=0;break;case"right":s=l,c=0,i=-2*l,u=0;break;case"bottom":c=l,u=2*l}var d="M 50,50 m ".concat(s,",").concat(c,"\n   a ").concat(l,",").concat(l," 0 1 1 ").concat(i,",").concat(-u,"\n   a ").concat(l,",").concat(l," 0 1 1 ").concat(-i,",").concat(u),p=2*Math.PI*l,f={stroke:r,strokeDasharray:"".concat(t/100*(p-n),"px ").concat(p,"px"),strokeDashoffset:"-".concat(n/2+e/100*(p-n),"px"),transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s"};return{pathString:d,pathStyle:f}}var ie=r({name:"VCCircle",props:y(ae,{percent:0,prefixCls:"vc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,trailColor:"#D9D9D9",trailWidth:1}),setup:function(e){var t=v(oe+=1),r=c((function(){return se(e.percent)})),a=c((function(){return se(e.strokeColor)})),n=m(),o=b(n,2),s=o[0];!function(e){var t=v(null);g((function(){var r=Date.now(),a=!1;e.value.forEach((function(e){var n,o=(null===(n=e)||void 0===n?void 0:n.$el)||e;if(o){a=!0;var l=o.style;l.transitionDuration=".3s, .3s, .3s, .06s",t.value&&r-t.value<100&&(l.transitionDuration="0s, 0s")}})),a&&(t.value=Date.now())}))}(o[1]);var i=function(){var n=e.prefixCls,o=e.strokeWidth,c=e.strokeLinecap,i=e.gapDegree,u=e.gapPosition,d=0;return r.value.map((function(e,r){var p=a.value[r]||a.value[a.value.length-1],f="[object Object]"===Object.prototype.toString.call(p)?"url(#".concat(n,"-gradient-").concat(t.value,")"):"",v=ce(d,e,p,o,i,u),g=v.pathString,y=v.pathStyle;d+=e;var m={key:r,d:g,stroke:f,"stroke-linecap":c,"stroke-width":o,opacity:0===e?0:1,"fill-opacity":"0",class:"".concat(n,"-circle-path"),style:y};return l("path",h({ref:s(r)},m),null)}))};return function(){var r=e.prefixCls,n=e.strokeWidth,o=e.trailWidth,s=e.gapDegree,c=e.gapPosition,u=e.trailColor,d=e.strokeLinecap;e.strokeColor;var p=ne(e,["prefixCls","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","strokeColor"]),f=ce(0,100,u,n,s,c),v=f.pathString,g=f.pathStyle;delete p.percent;var y=a.value.find((function(e){return"[object Object]"===Object.prototype.toString.call(e)})),m={d:v,stroke:u,"stroke-linecap":d,"stroke-width":o||n,"fill-opacity":"0",class:"".concat(r,"-circle-trail"),style:g};return l("svg",h({class:"".concat(r,"-circle"),viewBox:"0 0 100 100"},p),[y&&l("defs",null,[l("linearGradient",{id:"".concat(r,"-gradient-").concat(t.value),x1:"100%",y1:"0%",x2:"0%",y2:"0%"},[Object.keys(y).sort((function(e,t){return le(e)-le(t)})).map((function(e,t){return l("stop",{key:t,offset:e,"stop-color":y[e]},null)}))])]),l("path",m,null),i().reverse()])}}});var ue=r({name:"Circle",inheritAttrs:!1,props:Q(),setup:function(e,t){var r=t.slots,a=c((function(){return e.gapDegree||0===e.gapDegree?e.gapDegree:"dashboard"===e.type?75:void 0})),o=c((function(){var t=e.width||120;return{width:"number"==typeof t?"".concat(t,"px"):t,height:"number"==typeof t?"".concat(t,"px"):t,fontSize:"".concat(.15*t+6,"px")}})),s=c((function(){return e.strokeWidth||6})),i=c((function(){return e.gapPosition||"dashboard"===e.type&&"bottom"||"top"})),u=c((function(){return function(e){var t=e.percent,r=X(Y({success:e.success,successPercent:e.successPercent}));return[r,X(X(t)-r)]}(e)})),d=c((function(){return"[object Object]"===Object.prototype.toString.call(e.strokeColor)})),p=c((function(){return function(e){var t=e.success,r=void 0===t?{}:t,a=e.strokeColor;return[r.strokeColor||f.green,a||null]}({success:e.success,strokeColor:e.strokeColor})})),v=c((function(){var t;return n(t={},"".concat(e.prefixCls,"-inner"),!0),n(t,"".concat(e.prefixCls,"-circle-gradient"),d.value),t}));return function(){var t;return l("div",{class:v.value,style:o.value},[l(ie,{percent:u.value,strokeWidth:s.value,trailWidth:s.value,strokeColor:p.value,strokeLinecap:e.strokeLinecap,trailColor:e.trailColor,prefixCls:e.prefixCls,gapDegree:a.value,gapPosition:i.value},null),null===(t=r.default)||void 0===t?void 0:t.call(r)])}}}),de=r({name:"Steps",props:p(p({},Q()),{steps:Number,size:{type:String},strokeColor:String,trailColor:String}),setup:function(e,t){var r=t.slots,a=c((function(){return Math.round(e.steps*((e.percent||0)/100))})),o=c((function(){return"small"===e.size?2:14})),s=c((function(){for(var t=e.steps,r=e.strokeWidth,s=void 0===r?8:r,c=e.strokeColor,i=e.trailColor,u=e.prefixCls,d=[],p=0;p<t;p+=1){var f,v=(n(f={},"".concat(u,"-steps-item"),!0),n(f,"".concat(u,"-steps-item-active"),p<=a.value-1),f);d.push(l("div",{key:p,class:v,style:{backgroundColor:p<=a.value-1?c:i,width:"".concat(o.value,"px"),height:"".concat(s,"px")}},null))}return d}));return function(){var t;return l("div",{class:"".concat(e.prefixCls,"-steps-outer")},[s.value,null===(t=r.default)||void 0===t?void 0:t.call(r)])}}}),pe=r({name:"AProgress",props:y(Q(),{type:"line",percent:0,showInfo:!0,trailColor:null,size:"default",strokeLinecap:"round"}),slots:["format"],setup:function(e,t){var r=t.slots,o=a("progress",e),s=o.prefixCls,i=o.direction;u(null==e.successPercent,"Progress","`successPercent` is deprecated. Please use `success.percent` instead.");var d=c((function(){var t,r=e.type,a=e.showInfo,o=e.size,l=s.value;return n(t={},l,!0),n(t,"".concat(l,"-").concat("dashboard"===r?"circle":r),!0),n(t,"".concat(l,"-show-info"),a),n(t,"".concat(l,"-").concat(o),o),n(t,"".concat(l,"-rtl"),"rtl"===i.value),t})),f=c((function(){var t=e.percent,r=void 0===t?0:t,a=Y(e);return parseInt(void 0!==a?a.toString():r.toString(),10)})),v=c((function(){var t=e.status;return U.indexOf(t)<0&&f.value>=100?"success":t||"normal"}));return function(){var t,a=e.type,o=e.steps,c=e.strokeColor,i=e.title,u=function(){var t,a=e.showInfo,n=e.format,o=e.type,c=e.percent,i=e.title,u=Y(e);if(!a)return null;var d=n||(null==r?void 0:r.format)||function(e){return"".concat(e,"%")},p="line"===o;return n||(null==r?void 0:r.format)||"exception"!==v.value&&"success"!==v.value?t=d(X(c),X(u)):"exception"===v.value?t=l(p?k:C,null,null):"success"===v.value&&(t=l(p?x:w,null,null)),l("span",{class:"".concat(s.value,"-text"),title:void 0===i&&"string"==typeof t?t:void 0},[t])}();"line"===a?t=o?l(de,h(h({},e),{},{strokeColor:"string"==typeof c?c:void 0,prefixCls:s.value,steps:o}),{default:function(){return[u]}}):l(re,h(h({},e),{},{prefixCls:s.value}),{default:function(){return[u]}}):"circle"!==a&&"dashboard"!==a||(t=l(ue,h(h({},e),{},{prefixCls:s.value}),{default:function(){return[u]}}));var f=p(p({},d.value),n({},"".concat(s.value,"-status-").concat(v.value),!0));return l("div",{class:f,title:i},[t])}}}),fe=S(pe);const ve=r({__name:"index",props:{...Q(),strokeColor:{type:[String,Object,Function]}},setup(e){const t=e,r=c((()=>"function"==typeof t.strokeColor?{...t,strokeColor:t.strokeColor(t.percent)}:{...t,strokeColor:t.strokeColor}));return(e,t)=>(j(),I(D(fe),P(L(D(r))),null,16))}});const ge={class:"sys-server-stat-container"},ye={class:"disk-info"},me={class:"disk-info--item"},be={class:"disk-info"},he={class:"disk-info--item"},ke=r({name:"SystemMonitorServe",setup(e){let r;const a=W({runtime:{os:"",arch:"",nodeVersion:"",npmVersion:""},disk:{size:0,used:0,available:0},memory:{total:0,available:0},cpu:{manufacturer:"",brand:"",physicalCores:0,model:"",speed:0,rawCurrentLoad:0,rawCurrentLoadIdle:0,coresLoad:[]}}),{runtime:n,disk:o,memory:s,cpu:i}=N(a),u=c((()=>({size:t(o.value.size),used:t(o.value.used),available:t(o.value.available)}))),p=c((()=>({total:t(s.value.total),free:t(s.value.available),used:t(s.value.total-s.value.available)}))),f=c((()=>o.value.size<=0?0:Math.floor(o.value.used/o.value.size*100))),v=c((()=>s.value.total<=0?0:Math.floor((s.value.total-s.value.available)/s.value.total*100))),g=c((()=>`${i.value.manufacturer} ${i.value.brand} @ ${i.value.speed}GHz`)),y=async()=>{const e=await O({url:_.stat,method:"get"});n.value=e.runtime,o.value=e.disk,s.value=e.memory,i.value=e.cpu};y();const m=e=>e<30?"#5cb87a":e<70?"#e6a23c":"#f53f3f",b=(e,t)=>t<=0?0:Math.floor(e/t*100);return M((()=>{r=setInterval(y,1e4)})),A((()=>{clearInterval(r)})),(e,t)=>(j(),T("div",ge,[l(D(R),{class:"stat-card",title:"运行环境"},{default:G((()=>[l(D(H),{column:1,"label-style":{width:"50%"}},{default:G((()=>[l(D(H).Item,{label:"操作系统"},{default:G((()=>[V(E(D(n).os),1)])),_:1}),l(D(H).Item,{label:"系统架构"},{default:G((()=>[V(E(D(n).arch),1)])),_:1}),l(D(H).Item,{label:"Node版本"},{default:G((()=>[l(D(F),{color:"processing",size:"small"},{default:G((()=>[V("v"+E(D(n).nodeVersion),1)])),_:1})])),_:1}),l(D(H).Item,{label:"NPM版本"},{default:G((()=>[l(D(F),{color:"processing",size:"small"},{default:G((()=>[V("v"+E(D(n).npmVersion),1)])),_:1})])),_:1})])),_:1})])),_:1}),l(D(R),{class:"stat-card",title:"CPU"},{default:G((()=>[l(D(H),{column:1,"label-style":{width:"50%"},"content-style":{width:"50%"}},{default:G((()=>[l(D(H).Item,{label:"详细"},{default:G((()=>[V(E(D(g)),1)])),_:1}),l(D(H).Item,{label:"负载"},{default:G((()=>[l(ve,{percent:b(D(i).rawCurrentLoad,D(i).rawCurrentLoadIdle+D(i).rawCurrentLoad),"stroke-color":m},null,8,["percent"])])),_:1}),(j(!0),T(d,null,$(D(i).coresLoad,((e,t)=>(j(),I(D(H).Item,{key:t,label:`核心${t+1} 负载`},{default:G((()=>[l(ve,{percent:b(e.rawLoad,e.rawLoad+e.rawLoadIdle),"stroke-color":m},null,8,["percent"])])),_:2},1032,["label"])))),128))])),_:1})])),_:1}),l(D(R),{class:"stat-card",title:"磁盘"},{default:G((()=>[B("div",ye,[l(D(H),{class:"disk-info--item",column:1},{default:G((()=>[l(D(H).Item,{label:"总空间"},{default:G((()=>[V(E(D(u).size),1)])),_:1}),l(D(H).Item,{label:"已用空间"},{default:G((()=>[V(E(D(u).used),1)])),_:1}),l(D(H).Item,{label:"可用空间"},{default:G((()=>[V(E(D(u).available),1)])),_:1})])),_:1}),B("div",me,[l(ve,{type:"dashboard",percent:D(f),width:100,"stroke-color":m},null,8,["percent"])])])])),_:1}),l(D(R),{class:"stat-card",title:"内存"},{default:G((()=>[B("div",be,[l(D(H),{class:"disk-info--item",column:1},{default:G((()=>[l(D(H).Item,{label:"总内存"},{default:G((()=>[V(E(D(p).total),1)])),_:1}),l(D(H).Item,{label:"已用内存"},{default:G((()=>[V(E(D(p).used),1)])),_:1}),l(D(H).Item,{label:"可用内存"},{default:G((()=>[V(E(D(p).free),1)])),_:1})])),_:1}),B("div",he,[l(ve,{type:"dashboard",percent:D(v),width:100,"stroke-color":m},null,8,["percent"])])])])),_:1})]))}});e("default",z(ke,[["__scopeId","data-v-11512892"]]))}}}))}();

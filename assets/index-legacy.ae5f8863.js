System.register(["./dynamic-table-legacy.a396125d.js","./index-legacy.507b014e.js","./pick-legacy.9237dedd.js","./index-legacy.63d24141.js","./css-legacy.afbdb071.js","./schema-form-legacy.fa1ba664.js","./index-legacy.3af98c48.js","./index-legacy.eb8104e3.js","./zh_CN-legacy.96420b0d.js"],(function(e){"use strict";var t,n,a,i,c,l,d,s,r,o,u,f,b,g,y;return{setters:[function(e){t=e.u},function(e){n=e.bB,a=e.da,i=e.db,c=e.k,l=e.o,d=e.G,s=e.d,r=e.I,o=e.V,u=e.W,f=e.c,b=e.aC,g=e.a4,y=e.a7},function(){},function(){},function(){},function(){},function(){},function(){},function(){}],execute:function(){function m(){return n({url:a.list,method:"get"})}e("default",s({name:"SystemMonitorOnline",setup(e){const[s,h]=t();((e={})=>{const t=i().client,n=new Map,a=()=>{Object.keys(e).forEach((a=>{if(t){const i=e[a];n.set(a,i),t.subscribe(a,i)}}))};c((()=>t),a),l(a),d((()=>{Object.keys(e).forEach((e=>{t&&n.has(e)&&t.unsubscribe(e,n.get(e))}))}))})({connect(){null==h||h.reload()},online(){null==h||h.reload()},offline(){null==h||h.reload()}});const x=[{title:"#",dataIndex:"id",width:80,align:"center",hideInSearch:!0},{title:"用户名",dataIndex:"username",align:"center",bodyCell:({record:e})=>f(y,null,[f("span",{class:"pr-16px"},[e.username]),e.isCurrent&&f(b,{color:"red"},{default:()=>[g("当前")]})])},{title:"登录IP",dataIndex:"ip",width:140,align:"center"},{title:"登录时间",dataIndex:"time",align:"center"},{title:"操作系统",dataIndex:"os",align:"center"},{title:"浏览器",dataIndex:"browser",align:"center"},{title:"操作",dataIndex:"$action",align:"center",actions:({record:e})=>[{label:"下线",auth:"sys.online.kick",disabled:e.disable,popConfirm:{title:"确定下线该用户吗?",onConfirm:()=>j(e)}}]}],j=async e=>{var t;await(t={id:e.id},n({url:a.kick,method:"post",data:t}))};return(e,t)=>(r(),o(u(s),{ref:"dynamicTableRef","header-title":"在线用户","title-tooltip":"这是真实操作，请不要随意将其他用户踢下线。","data-request":u(m),columns:x},null,8,["data-request"]))}}))}}}));

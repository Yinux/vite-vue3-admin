!function(){var e=document.createElement("style");e.innerHTML=".context-menu{position:fixed;top:0;left:0;z-index:200;display:block;width:156px;margin:0;list-style:none;background-color:#151515;border:1px solid rgba(0,0,0,.08);border-radius:.25rem;box-shadow:0 2px 2px #00000024,0 3px 1px -2px #0000001a,0 1px 5px #0000000f;background-clip:padding-box;user-select:none}.context-menu__item{margin:0!important}.context-menu li{display:inline-block;width:100%;height:42px!important;margin:0!important;line-height:42px!important}.context-menu li span{line-height:42px!important}.context-menu li>div{margin:0!important}.context-menu li:not(.ant-menu-item-disabled):hover{color:#c9d1d9;background-color:#f5f5f5}.context-menu .ant-divider,.context-menu__popup .ant-divider{margin:0}.context-menu__popup li{display:inline-block;width:100%;height:42px!important;margin:0!important;line-height:42px!important}.context-menu__popup li span{line-height:42px!important}.context-menu__popup li>div{margin:0!important}.context-menu__popup li:not(.ant-menu-item-disabled):hover{color:#c9d1d9;background-color:#f5f5f5}.context-menu .ant-menu-submenu-title,.context-menu .ant-menu-item{padding:0!important}\n",document.head.appendChild(e),System.register(["./index-legacy.507b014e.js","./index-legacy.ea99c0c6.js","./dynamic-table-legacy.a396125d.js","./hero-legacy.fa0143c8.js","./pick-legacy.9237dedd.js","./useFormModal-legacy.c37dd9fe.js","./index-legacy.7d7cea3a.js","./Card-legacy.42db4a14.js","./index-legacy.f7dc2aa8.js","./css-legacy.afbdb071.js","./schema-form-legacy.fa1ba664.js","./index-legacy.3af98c48.js","./index-legacy.eb8104e3.js","./index-legacy.63d24141.js","./zh_CN-legacy.96420b0d.js","./index-legacy.4370461c.js","./Tabs-legacy.f224fea2.js","./PlusOutlined-legacy.18137da5.js"],(function(e){"use strict";var t,n,l,o,a,i,c,r,s,d,u,p,m,f,x,y,b,h,g,v,k,j,_,w,I,C,O,T,L,E,M,$,S;return{setters:[function(e){t=e.c,n=e.aC,l=e.bz,o=e.a7,a=e.dp,i=e.d,c=e.j,r=e.m,s=e.o,d=e.n,u=e.l,p=e.W,m=e.cs,f=e.af,x=e.dq,y=e.dr,b=e.b0,h=e.ax,g=e.Y,v=e.U,k=e.I,j=e.J,_=e.a3,w=e.a4},function(e){I=e.I,C=e.a,O=e.j},function(e){T=e.u},function(e){L=e.g},function(e){E=e.M},function(e){M=e.u},function(e){$=e.A},function(e){S=e.C},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){}],execute:function(){const P=[{title:"头像",align:"center",width:100,hideInSearch:!0,dataIndex:"avatar",bodyCell:({record:e})=>t(I,{src:e.avatar,preview:{src:e.posters},key:e.avatar},null)},{title:"英雄名称",align:"center",dataIndex:"title"},{title:"英雄称号",align:"center",dataIndex:"name"},{title:"定位",align:"center",dataIndex:"roles",bodyCell:({record:e})=>{var a;return t(o,null,[null===(a=e.roles)||void 0===a?void 0:a.map((e=>{return t(n,{color:"blue",key:e},"function"==typeof(o=e)||"[object Object]"===Object.prototype.toString.call(o)&&!l(o)?e:{default:()=>[e]});var o}))])}},{title:"操作",align:"center",width:120,dataIndex:"$action",actions:({record:e})=>[{label:"查看详情",onClick:()=>a.push({name:"demos-table-lol-info",params:{id:e.heroId}})}]}];const q="context-menu",z={width:{type:Number,default:156},customEvent:{type:Object,default:null},styles:{type:Object},showIcon:{type:Boolean,default:!0},axis:{type:Object,default:()=>({x:0,y:0})},items:{type:Array,default:()=>[]}},A=e=>{const{item:n}=e;return t("span",{style:"display: inline-block; width: 100%; ",class:"px-4",onClick:e.handler.bind(null,n)},[e.showIcon&&n.icon&&t(f,{class:"mr-2",type:n.icon},null),t("span",null,[n.label])])};var N=i({name:"ContextMenu",props:z,setup(e){const n=c(null),a=c(!1),i=r((()=>{const{axis:t,items:n,styles:l,width:o}=e,{x:a,y:i}=t||{x:0,y:0},c=40*(n||[]).length,r=o,s=document.body;return{...l,position:"absolute",width:`${o}px`,left:`${(s.clientWidth<a+r?a-r:a)+1}px`,top:`${(s.clientHeight<i+c?i-c:i)+1}px`}}));function f(e,t){const{handler:n,disabled:l}=e;l||(a.value=!1,null==t||t.stopPropagation(),null==t||t.preventDefault(),null==n||n())}function x(n){return n.map((n=>{const{disabled:l,label:i,children:c,divider:r=!1}=n,s={item:n,handler:f,showIcon:e.showIcon};return c&&0!==c.length?p(a)?t(E.SubMenu,{key:i,disabled:l,popupClassName:"context-menu__popup"},{title:()=>t(A,s,null),default:()=>x(c)}):null:t(o,null,[t(E.Item,{disabled:l,class:"context-menu__item",key:i},{default:()=>[t(A,s,null)]}),r?t(m,{key:`d-${i}`},null):null])}))}return s((()=>{d((()=>a.value=!0))})),u((()=>{const e=p(n);e&&document.body.removeChild(e)})),()=>{let o;if(!p(a))return null;const{items:c}=e;return t("div",{class:q},[t(E,{inlineIndent:12,mode:"vertical",ref:n,style:p(i)},(r=o=x(c),"function"==typeof r||"[object Object]"===Object.prototype.toString.call(r)&&!l(r)?o:{default:()=>[o]}))]);var r}}});const D={domList:[],resolve:()=>({})},W=function(e){const{event:n}=e||{};if(n&&(null==n||n.preventDefault()),x)return new Promise((l=>{const o=document.body,a=document.createElement("div"),i={};e.styles&&(i.styles=e.styles),e.items&&(i.items=e.items),e.event&&(i.customEvent=n,i.axis={x:n.clientX,y:n.clientY});const c=t(N,i);y(c,a);const r=function(){D.resolve("")};D.domList.push(a);const s=function(){D.domList.forEach((e=>{try{e&&o.removeChild(e)}catch(t){console.error(t)}})),o.removeEventListener("click",r),o.removeEventListener("scroll",r)};D.resolve=function(e){s(),l(e)},s(),o.appendChild(a),o.addEventListener("click",r),o.addEventListener("scroll",r)}))},F=function(){D&&(D.resolve(""),D.domList=[])};function H(e=!0){return b()&&e&&u((()=>{F()})),[W,F]}const Y=e=>[{field:"filename",component:"Input",label:e("component.excel.fileName"),rules:[{required:!0}]},{field:"bookType",component:"Select",label:e("component.excel.fileType"),defaultValue:"xlsx",rules:[{required:!0}],componentProps:{options:[{label:"xlsx",value:"xlsx",key:"xlsx"},{label:"html",value:"html",key:"html"},{label:"csv",value:"csv",key:"csv"},{label:"txt",value:"txt",key:"txt"}]}}],B=w(" 英雄联盟 -- 根据数组格式的数据进行导出 "),J=w("表格自带导出"),U=w(" 数组格式导出 "),V=w(" 自定义导出格式 ");e("default",i({name:"DemosTablesLolTable",setup(e){const[n]=T(),l=g(),[o]=H(),a=(()=>{const{t:e}=h(),[t]=M();return{openModal:({onOk:n})=>{t({modalProps:{title:e("component.excel.exportModalTitle"),onFinish:async e=>{const{filename:t,bookType:l}=e;n({filename:`${t.split(".").shift()}.${l}`,bookType:l})}},formProps:{labelWidth:100,schemas:Y(e)}})}}})();let i=[];const c=()=>{const e=P.filter((e=>"$action"!==e.dataIndex)),t=e.map((e=>e.dataIndex));C({data:i.map((e=>t.reduce(((t,n)=>(t[n]=Array.isArray(e[n])?e[n].toString():e[n],t)),{}))).map((e=>Object.values(e))),header:e.map((e=>e.title)),filename:"二维数组方式导出excel.xlsx"})},r=()=>{a.openModal({onOk:({filename:e,bookType:t})=>{O({data:i,filename:e,write2excelOpts:{bookType:t}})}})},s=async e=>{const{data:t}=await L(e);return i=t.list,t},d=e=>({onContextmenu:t=>{o({event:t,items:[{label:"查看",handler:()=>{console.log("record",e),l.push({name:"demos-table-lol-info",params:{id:e.heroId}})}},{label:"编辑",handler:()=>{console.log("record",e)}}]})}});return(e,l)=>{const o=v("a-button");return k(),j("div",null,[t(p($),{message:"游戏介绍",type:"info","show-icon":""},{description:_((()=>[B])),_:1}),t(p(S),{title:"英雄列表mock数据",style:{"margin-top":"20px"}},{default:_((()=>[t(p(n),{size:"small",bordered:"","data-request":s,columns:p(P),"row-key":"heroid","export-file-name":"表格自带导出","custom-row":d},{"export-button":_((()=>[t(o,{type:"primary"},{default:_((()=>[J])),_:1})])),toolbar:_((()=>[t(o,{type:"primary",onClick:c},{default:_((()=>[U])),_:1}),t(o,{type:"primary",onClick:r},{default:_((()=>[V])),_:1})])),_:1},8,["columns"])])),_:1})])}}}))}}}))}();

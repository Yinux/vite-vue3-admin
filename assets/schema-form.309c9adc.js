var Le=Object.defineProperty,De=Object.defineProperties;var Ee=Object.getOwnPropertyDescriptors;var we=Object.getOwnPropertySymbols;var Ne=Object.prototype.hasOwnProperty,We=Object.prototype.propertyIsEnumerable;var Re=(s,n,a)=>n in s?Le(s,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[n]=a,A=(s,n)=>{for(var a in n||(n={}))Ne.call(n,a)&&Re(s,a,n[a]);if(we)for(var a of we(n))We.call(n,a)&&Re(s,a,n[a]);return s},H=(s,n)=>De(s,Ee(n));var _=(s,n,a)=>new Promise((c,d)=>{var y=P=>{try{f(a.next(P))}catch(R){d(R)}},w=P=>{try{f(a.throw(P))}catch(R){d(R)}},f=P=>P.done?c(P.value):Promise.resolve(P.value).then(y,w);f((a=a.apply(s,n)).next())});import{d as ne,v as Ue,B as Oe,cJ as qe,n as ze,cK as Ke,bL as Ge,bz as ce,b as Fe,c as I,e as q,_ as Be,bm as Je,P as xe,cL as Ye,cM as He,m as C,W as e,cN as be,cO as ve,E as Xe,cP as Ze,bf as Qe,cQ as z,cl as D,cw as Q,cR as et,a4 as ae,cv as tt,ag as W,cr as le,M as nt,N as st,I as M,V as j,a3 as V,cs as ot,cy as Y,aa as ue,by as Se,ap as K,cS as at,aN as ge,a8 as re,ac as J,a7 as Te,cn as X,cT as rt,H as it,cU as ct,D as lt,O as dt,a5 as fe,am as ut,j as ke,r as pe,cV as ft,cW as ye,cX as ee,cY as de,cZ as pt,c_ as mt,c$ as ht,k as $e,d0 as gt,d1 as yt,d2 as bt,J as vt,cz as me,d3 as St}from"./index.44725425.js";import{C as Me,R as At}from"./index.5aa97db4.js";import{d as _e}from"./index.93fa4281.js";import{c as Pt,p as wt}from"./pick.b8be7556.js";var Rt=globalThis&&globalThis.__rest||function(s,n){var a={};for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&n.indexOf(c)<0&&(a[c]=s[c]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,c=Object.getOwnPropertySymbols(s);d<c.length;d++)n.indexOf(c[d])<0&&Object.prototype.propertyIsEnumerable.call(s,c[d])&&(a[c[d]]=s[c[d]]);return a},Ft=function(){return{prefixCls:String,spinning:{type:Boolean,default:void 0},size:String,wrapperClassName:String,tip:xe.any,delay:Number,indicator:xe.any}},ie=null;function Bt(s,n){return!!s&&!!n&&!isNaN(Number(n))}function xt(s){var n=s.indicator;ie=typeof n=="function"?n:function(){return I(n,null,null)}}var te=ne({name:"ASpin",inheritAttrs:!1,props:Ue(Ft(),{size:"default",spinning:!0,wrapperClassName:""}),setup:function(){return{originalUpdateSpinning:null,configProvider:Oe("configProvider",qe)}},data:function(){var n=this.spinning,a=this.delay,c=Bt(n,a);return{sSpinning:n&&!c}},created:function(){this.originalUpdateSpinning=this.updateSpinning,this.debouncifyUpdateSpinning(this.$props)},mounted:function(){this.updateSpinning()},updated:function(){var n=this;ze(function(){n.debouncifyUpdateSpinning(),n.updateSpinning()})},beforeUnmount:function(){this.cancelExistingSpin()},methods:{debouncifyUpdateSpinning:function(n){var a=n||this.$props,c=a.delay;c&&(this.cancelExistingSpin(),this.updateSpinning=Ke(this.originalUpdateSpinning,c))},updateSpinning:function(){var n=this.spinning,a=this.sSpinning;a!==n&&(this.sSpinning=n)},cancelExistingSpin:function(){var n=this.updateSpinning;n&&n.cancel&&n.cancel()},renderIndicator:function(n){var a="".concat(n,"-dot"),c=Ge(this,"indicator");return c===null?null:(Array.isArray(c)&&(c=c.length===1?c[0]:c),ce(c)?Fe(c,{class:a}):ie&&ce(ie())?Fe(ie(),{class:a}):I("span",{class:"".concat(a," ").concat(n,"-dot-spin")},[I("i",{class:"".concat(n,"-dot-item")},null),I("i",{class:"".concat(n,"-dot-item")},null),I("i",{class:"".concat(n,"-dot-item")},null),I("i",{class:"".concat(n,"-dot-item")},null)]))}},render:function(){var n,a,c,d=this.$props,y=d.size,w=d.prefixCls,f=d.tip,P=f===void 0?(c=(a=this.$slots).tip)===null||c===void 0?void 0:c.call(a):f,R=d.wrapperClassName,g=this.$attrs,B=g.class,O=g.style,x=Rt(g,["class","style"]),l=this.configProvider,p=l.getPrefixCls,b=l.direction,v=p("spin",w),F=this.sSpinning,S=(n={},q(n,v,!0),q(n,"".concat(v,"-sm"),y==="small"),q(n,"".concat(v,"-lg"),y==="large"),q(n,"".concat(v,"-spinning"),F),q(n,"".concat(v,"-show-text"),!!P),q(n,"".concat(v,"-rtl"),b==="rtl"),q(n,B,!!B),n),k=I("div",Be(Be({},x),{},{style:O,class:S}),[this.renderIndicator(v),P?I("div",{class:"".concat(v,"-text")},[P]):null]),o=Je(this);if(o&&o.length){var r,t=(r={},q(r,"".concat(v,"-container"),!0),q(r,"".concat(v,"-blur"),F),r);return I("div",{class:["".concat(v,"-nested-loading"),R]},[F&&I("div",{key:"loading"},[k]),I("div",{class:t,key:"container"},[o])])}return k}});te.setDefaultIndicator=xt;te.install=function(s){return s.component(te.name,te),s};function kt(s,n){return s&&s.length?Pt(s,Ye(n)):[]}const he=He;function Ct(s,n){return C(()=>{const a=e(s),{labelCol:c={},wrapperCol:d={}}=a.formItemProps||{},{labelWidth:y,disabledLabelWidth:w}=a,{labelWidth:f,labelCol:P,wrapperCol:R}=e(n);if(!f&&!y&&!P||w)return c.style={textAlign:"left"},{labelCol:c,wrapperCol:d};let g=y||f;const B=A(A({},P),c),O=A(A({},R),d);return g&&(g=be(g)?`${g}px`:g),{labelCol:A({style:{width:g}},B),wrapperCol:A({style:{width:`calc(100% - ${g})`}},O)}})}function Ce(s,n=""){const{t:a}=ve();if(s.includes("Input")||s.includes("Complete"))return`${a("common.inputText")}${n}`;const c=["Select","Cascader","Checkbox","CheckboxGroup","Switch","TreeSelect"];return s.includes("Picker")||c.includes(s)?`${a("common.chooseText")}${n}`:""}const It=["DatePicker","MonthPicker","WeekPicker","TimePicker"];function Ot(){return[...It,"RangePicker"]}function Tt(s,n){return s&&["Input","InputPassword","InputSearch","InputTextArea"].includes(s)&&n&&be(n)?`${n}`:n}const $t=Ot(),je=Symbol("schema-form");function Mt(s){return _(this,null,function*(){Xe(je,s)})}function Ve(){return Oe(je)}const _t={name:"SchemaFormItem"};var jt=ne(H(A({},_t),{props:{formModel:{type:Object,default:()=>({})},schema:{type:Object,default:()=>({})},setFormModel:{type:Function,default:null},tableInstance:{type:Object},setItemRef:{type:Function,default:()=>({})}},emits:["update:formModel"],setup(s,{emit:n}){const a=s,c=Ve(),{formPropsRef:d}=c,y=Ze(a,"formModel",n),{t:w}=ve(),{schema:f}=Qe(a),P=Ct(f,d),R=C(()=>{const{component:o,componentProps:r}=f.value;return!z(r)&&(r==null?void 0:r.vModelKey)?r.vModelKey:D(o)&&["Switch","Checkbox"].includes(o)?"checked":"value"}),g=C(()=>{const{formModel:o,schema:r,tableInstance:t}=a,{mergeDynamicData:i}=e(d);return{field:r.field,formInstance:c,tableInstance:t,formModel:o,values:A(A({},i),o),schema:r}}),B=C(()=>{const{vShow:o,vIf:r,isAdvanced:t=!1}=e(f),{showAdvancedButton:i}=e(d),m=i&&Q(t)?t:!0;let u=!0,h=!0;return Q(o)&&(u=o),Q(r)&&(h=r),z(o)&&(u=o(e(g))),z(r)&&(h=r(e(g))),u=u&&m,{isShow:u,isIfShow:h}}),O=C(()=>{const{disabled:o}=e(d),{dynamicDisabled:r}=a.schema,{disabled:t=!1}=e(b);let i=!!o||t;return Q(r)&&(i=r),z(r)&&(i=r(e(g))),i}),x=(o,r=e(g))=>{if(D(o))return I(Te,null,[o]);if(ce(o))return o;if(z(o))return x(o(r));if(X(o)){const t=Object.keys(o);return t.some(i=>i.startsWith("_")||["setup","render"].includes(i))?o:t.reduce((i,m)=>(i[m]=(...u)=>x(o[m],u),i),{})}return o},l=C(()=>{var r;const o=a.schema.component;return D(o)&&(r=et[o])!=null?r:x(o)}),p=C(()=>{var r;const o=(r=a.schema.componentSlots)!=null?r:{};return D(o)||ce(o)?{default:(...t)=>x(o,t)}:x(o)}),b=C(()=>{var m,u;const{schema:o}=a;let{componentProps:r={},component:t,label:i=""}=o;return z(r)&&(r=(m=r(e(g)))!=null?m:{}),t!=="RangePicker"&&D(t)&&((u=r.placeholder)!=null||(r.placeholder=Ce(t,i))),o.component==="Divider"&&(r=Object.assign({type:"horizontal"},r,{orientation:"left",plain:!0})),o.field,r}),v=C(()=>{var r;const o=((r=a.schema)==null?void 0:r.componentProps)||{};return Object.keys(o).reduce((t,i)=>{if(/on([A-Z])/.test(i)){const m=i.replace(/on([A-Z])/,"$1").toLocaleLowerCase();t[m]=o[i]}return t},{})}),F=C(()=>{const{label:o,helpMessage:r,helpComponentProps:t,subLabel:i}=a.schema,m=i?I("span",null,[o,ae(" "),I("span",{class:"text-secondary"},[i])]):x(o),u=z(r)?r(e(g)):r;return!u||Array.isArray(u)&&u.length===0?m:I("span",null,[m,I(tt,W({placement:"top",class:"mx-1",text:u},t),null)])});function S(o,r,t){["DatePicker","MonthPicker","WeekPicker","TimePicker"].includes(r)?o.type=t?"string":"object":["RangePicker","Upload","CheckboxGroup","TimePicker"].includes(r)?o.type="array":["InputNumber"].includes(r)&&(o.type="number")}const k=C(()=>{var Pe;const{rules:o=[],component:r,rulesMessageJoinLabel:t,label:i,dynamicRules:m,required:u}=a.schema;if(z(m))return m(e(g));let h=le(o);const{rulesMessageJoinLabel:T}=e(d),E=Reflect.has(e(d),"rulesMessageJoinLabel")?t:T,se=D(r)?`${Ce(r,i)}${E?i:""}`:void 0;function U(L,$){const oe=L.message||se;return $===void 0||rt($)||Array.isArray($)&&$.length===0||typeof $=="string"&&$.trim()===""||typeof $=="object"&&Reflect.has($,"checked")&&Reflect.has($,"halfChecked")&&Array.isArray($.checked)&&Array.isArray($.halfChecked)&&$.checked.length===0&&$.halfChecked.length===0?Promise.reject(oe):Promise.resolve()}const N=z(u)?u(e(g)):u;(!h||h.length===0)&&N&&(h=[{required:N,validator:U}]);const Ae=h.findIndex(L=>Reflect.has(L,"required")&&!Reflect.has(L,"validator"));if(Ae!==-1){const L=h[Ae];if(r&&D(r)){Reflect.has(L,"type")||(L.type=r==="InputNumber"?"number":"string"),L.message=L.message||se,(r.includes("Input")||r.includes("Textarea"))&&(L.whitespace=!0);const $=(Pe=e(b))==null?void 0:Pe.valueFormat;S(L,r,$)}}const Z=h.findIndex(L=>L.max);return Z!==-1&&!h[Z].validator&&(h[Z].message=h[Z].message||w("component.form.maxTip",[h[Z].max])),h});return requestIdleCallback(()=>_(this,null,function*(){var o,r;if((o=b.value)!=null&&o.request){const{componentProps:t,component:i}=e(f);Reflect.set(f.value,"loading",!0);try{const m=yield(r=b.value)==null?void 0:r.request(e(g));["Select","RadioGroup","CheckBoxGroup"].some(u=>u===i)?b.value.options=m:["TreeSelect","Tree"].some(u=>u===i)&&(b.value.treeData=m),t&&(t.requestResult=m)}finally{f.value.loading=!1}}})),(o,r)=>e(B).isIfShow?nt((M(),j(e(Me),Y(W({key:0},e(f).colProps)),{default:V(()=>[e(f).component==="Divider"?(M(),j(e(ot),Y(W({key:0},e(b))),{default:V(()=>[(M(),j(ue(e(F))))]),_:1},16)):(M(),j(e(Se).Item,W({key:1},A({},e(f).formItemProps),{label:e(F),name:e(f).field,"label-col":e(P).labelCol,"wrapper-col":e(P).wrapperCol,rules:e(k)}),{default:V(()=>[e(f).slot?K(o.$slots,e(f).slot,Y(W({key:0},e(g)))):e(l)?(M(),j(ue(e(l)),W({key:1,ref:s.setItemRef,key:e(f).field},e(b),{[e(R)]:e(y)[e(f).field],["onUpdate:"+e(R)]:r[0]||(r[0]=t=>e(y)[e(f).field]=t),"allow-clear":!0,disabled:e(O)},at(e(v))),ge({_:2},[Object.is(e(f).loading,!0)?{name:"notFoundContent",fn:V(()=>[I(e(te),{size:"small"})])}:void 0,re(e(p),(t,i)=>({name:i,fn:V(m=>{var u;return[(M(),j(ue((u=t==null?void 0:t(H(A({},e(g)),{slotData:m})))!=null?u:t),{key:i}))]})}))]),1040,["disabled"])):J("",!0)]),_:3},16,["label","name","label-col","wrapper-col","rules"]))]),_:3},16)),[[st,e(B).isShow]]):J("",!0)}}));const Vt=ne({__name:"index",props:{expand:{type:Boolean}},setup(s){const n=s;ct(c=>({"3cc09834":e(a)}));const a=C(()=>`${n.expand?0:.5}turn`);return(c,d)=>(M(),j(e(lt),{class:"collapse-icon"}))}});var Lt=it(Vt,[["__scopeId","data-v-623bf38a"]]);const Dt={name:"FormAction",inheritAttrs:!1},Et=ne(H(A({},Dt),{props:{showActionButtonGroup:{type:Boolean,default:!0},showResetButton:{type:Boolean,default:!0},showSubmitButton:{type:Boolean,default:!0},showAdvancedButton:{type:Boolean,default:!0},resetButtonOptions:{type:Object,default:()=>({})},submitButtonOptions:{type:Object,default:()=>({})},actionColOptions:{type:Object,default:()=>({})},actionSpan:{type:Number,default:6},isAdvanced:Boolean,hideAdvanceBtn:Boolean},emits:["toggle-advanced"],setup(s,{emit:n}){const a=s,{t:c}=ve(),{resetFields:d,submit:y}=Ve(),w=C(()=>{const{showAdvancedButton:g,actionSpan:B,actionColOptions:O}=a,x=24-B,l=g?{span:x<6?24:x}:{};return A(A({style:{textAlign:"right"},span:g?6:4},l),O)}),f=C(()=>Object.assign({text:c("common.resetText")},a.resetButtonOptions)),P=C(()=>Object.assign({text:c("common.queryText")},a.submitButtonOptions));function R(){n("toggle-advanced",a.isAdvanced)}return(g,B)=>s.showActionButtonGroup?(M(),j(e(Me),Y(W({key:0},e(w))),{default:V(()=>[dt("div",{style:ut([{width:"100%"},{textAlign:e(w).style.textAlign}])},[I(e(Se).Item,null,{default:V(()=>[K(g.$slots,"resetBefore"),s.showResetButton?(M(),j(e(he),W({key:0,type:"default",class:"mr-2"},e(f),{onClick:e(d)}),{default:V(()=>[ae(fe(e(f).text),1)]),_:1},16,["onClick"])):J("",!0),K(g.$slots,"submitBefore"),s.showSubmitButton?(M(),j(e(he),W({key:1,type:"primary",class:"mr-2"},e(P),{onClick:e(y)}),{default:V(()=>[ae(fe(e(P).text),1)]),_:1},16,["onClick"])):J("",!0),K(g.$slots,"advanceBefore"),s.showAdvancedButton&&!s.hideAdvanceBtn?(M(),j(e(he),{key:2,type:"link",size:"small",onClick:R},{default:V(()=>[ae(fe(s.isAdvanced?e(c)("component.form.putAway"):e(c)("component.form.unfold"))+" ",1),I(e(Lt),{class:"ml-1",expand:!s.isAdvanced},null,8,["expand"])]),_:1})):J("",!0),K(g.$slots,"advanceAfter")]),_:3})],4)]),_:3},16)):J("",!0)}})),Nt=({props:s,attrs:n})=>{const a=ke(le(s)),c=pe(A({},s.initialValues)),d=pe(A({},s.initialValues)),y=ke(),w=A({},s.initialValues),f={},P=pe({isAdvanced:!0,hideAdvanceBtn:!1,isLoad:!1,actionSpan:6}),R=C(()=>A(A({},n),a.value)),g=C(()=>{const{baseRowStyle:O={},rowProps:x}=e(R);return A({style:O},x)}),B=C(()=>A(A({},R.value),P));return{formModel:c,defaultFormValues:d,schemaFormRef:y,formPropsRef:a,cacheFormModel:w,compRefs:f,getFormProps:R,advanceState:P,getRowConfig:g,getFormActionBindProps:B,formSchemasRef:C(()=>e(a).schemas||[])}};function Wt(s){const{emit:n,formPropsRef:a,formSchemasRef:c,formModel:d,cacheFormModel:y,getFormProps:w,schemaFormRef:f,defaultFormValues:P,handleFormValues:R}=s;function g(){return e(f)?R(ft(e(d))):{}}function B(t){var i;return(i=e(a).schemas)==null?void 0:i.some(m=>m.field===t&&D(m.component)?$t.includes(m.component):!1)}function O(t){return _(this,null,function*(){const i=e(c),m=i.map(h=>h.field).filter(Boolean);Object.assign(y,t);const u=[];Object.keys(t).forEach(h=>{const T=i.find(U=>U.field===h);let E=t[h];const se=Reflect.has(t,h);if(D(T==null?void 0:T.component)&&(E=Tt(T==null?void 0:T.component,E)),se&&m.includes(h)){if(B(h))if(Array.isArray(E)){const U=[];for(const N of E)U.push(N?ye(N):null);d[h]=U}else{const{componentProps:U}=T||{};let N=U;ee(U)&&(N=N({formPropsRef:a,formModel:d})),d[h]=E?N!=null&&N.valueFormat?E:ye(E):null}else d[h]=E;u.push(h)}}),F(u)})}function x(t){return _(this,null,function*(){let i=[];X(t)&&i.push(t),de(t)&&(i=[...t]),e(a).schemas=i})}function l(t,i,m=!1){return _(this,null,function*(){const u=le(e(c)),h=u.findIndex(T=>T.field===i);if(!i||h===-1||m){m?u.unshift(t):u.push(t),d[t.field]=t.defaultValue,a.value.schemas=u;return}h!==-1&&u.splice(h+1,0,t),d[t.field]=t.defaultValue,a.value.schemas=u})}function p(t){return _(this,null,function*(){const i=le(e(c));if(!t)return;let m=D(t)?[t]:t;D(t)&&(m=[t]);for(const u of m)if(D(u)){const h=i.findIndex(T=>T.field===u);h!==-1&&(Reflect.deleteProperty(d,u),i.splice(h,1))}a.value.schemas=i})}function b(t){return _(this,null,function*(){let i=[];if(X(t)&&i.push(t),de(t)&&(i=[...t]),!i.every(h=>h.component==="Divider"||Reflect.has(h,"field")&&h.field)){console.error("All children of the form Schema array that need to be updated must contain the `field` field");return}const u=[];i.forEach(h=>{e(c).forEach(T=>{if(T.field===h.field){const E=_e(T,h);u.push(E)}else u.push(T)})}),e(a).schemas=kt(u,"field")})}function v(){return _(this,null,function*(){const{resetFunc:t,submitOnReset:i}=e(w);t&&ee(t)&&(yield t()),Object.keys(d).forEach(m=>{d[m]=P[m]}),n("reset",d),i&&r(),setTimeout(k)})}function F(t){return _(this,null,function*(){var i;return(i=f.value)==null?void 0:i.validateFields(t)})}function S(t){return _(this,null,function*(){var i;return yield(i=f.value)==null?void 0:i.validate(t)})}function k(t){return _(this,null,function*(){var i;yield(i=f.value)==null?void 0:i.clearValidate(t)})}function o(t,i){return _(this,null,function*(){var m;yield(m=f.value)==null?void 0:m.scrollToField(t,i)})}function r(t){return _(this,null,function*(){t&&t.preventDefault();const{submitFunc:i}=e(w);if(i&&ee(i)){yield i();return}if(!!e(f))try{const u=yield S(),h=R(u);n("submit",h)}catch(u){return Promise.reject(u)}})}return{submit:r,clearValidate:k,validate:S,validateFields:F,getFieldsValue:g,updateSchema:b,resetSchema:x,appendSchemaByField:l,removeSchemaByFiled:p,resetFields:v,setFieldsValue:O,scrollToField:o}}const Ie=ye,Ut=s=>{const{compRefs:n,formModel:a,formPropsRef:c,cacheFormModel:d,defaultFormValues:y,schemaFormRef:w,getFormProps:f}=s,P=l=>p=>{p&&(n[l.field]=p)},R=(l,p)=>{var v;a[l]=p,d[l]=p;const{validateTrigger:b}=e(f);(!b||b==="change")&&((v=w.value)==null||v.validateFields([l]))},g=l=>{c.value=_e(e(c)||{},l)};function B(l){var b,v;if(!X(l))return{};const p={};for(const F of Object.entries(l)){let[,S]=F;const[k]=F;if(!k||de(S)&&S.length===0||ee(S))continue;const o=e(f).transformDateFunc;X(S)&&(S=o==null?void 0:o(S)),de(S)&&((b=S[0])==null?void 0:b.format)&&((v=S[1])==null?void 0:v.format)&&(S=S.map(r=>o==null?void 0:o(r))),D(S)&&(S=S.trim()),pt(p,k,S)}return O(p)}function O(l){const p=e(f).fieldMapToTime;if(!p||!Array.isArray(p))return l;for(const[b,[v,F],S="YYYY-MM-DD"]of p){if(!b||!v||!F||!l[b])continue;const[k,o]=l[b];l[v]=Ie(k).format(S),l[F]=Ie(o).format(S),Reflect.deleteProperty(l,b)}return l}return{setItemRef:P,initFormValues:()=>{var l;(l=e(c).schemas)==null||l.forEach(p=>{const{defaultValue:b}=p;mt(b)||(a[p.field]=b,y[p.field]=b,d[p.field]=b)})},setFormModel:R,setSchemaFormProps:g,handleFormValues:B}};let qt,zt,Kt;function Gt(){return{screenRef:C(()=>e(qt)),widthRef:zt,screenEnum:ht,realWidthRef:Kt}}const G=24,Jt=({instance:s,emit:n})=>{const{realWidthRef:a,screenEnum:c,screenRef:d}=Gt(),{advanceState:y,getFormProps:w,formSchemasRef:f,formModel:P,defaultFormValues:R}=s,g=C(()=>{if(!y.isAdvanced)return 0;const l=e(w).emptySpan||0;if(be(l))return l;if(X(l)){const{span:p=0}=l,b=e(d);return l[b.toLowerCase()]||p||0}return 0});$e([()=>e(f),()=>y.isAdvanced,()=>e(a)],()=>{const{showAdvancedButton:l}=e(w);l&&O()},{immediate:!0});function B(l,p=0,b=!1){const v=e(a),F=parseInt(l.md)||parseInt(l.xs)||parseInt(l.sm)||l.span||G,S=parseInt(l.lg)||F,k=parseInt(l.xl)||S,o=parseInt(l.xxl)||k;return v<=c.LG?p+=F:v<c.XL?p+=S:v<c.XXL?p+=k:p+=o,b?(y.hideAdvanceBtn=!1,p<=G*2?(y.hideAdvanceBtn=!0,y.isAdvanced=!0):p>G*2&&p<=G*(e(w).autoAdvancedLine||3)?y.hideAdvanceBtn=!1:y.isLoad||(y.isLoad=!0,y.isAdvanced=!y.isAdvanced),{isAdvanced:y.isAdvanced,itemColSum:p}):p>G*(e(w).alwaysShowLines||1)?{isAdvanced:y.isAdvanced,itemColSum:p}:{isAdvanced:!0,itemColSum:p}}function O(){let l=0,p=0;const{baseColProps:b={}}=e(w);for(const v of e(f)){const{vShow:F,colProps:S}=v;let k=!0;if(Q(F)&&(k=F),ee(F)&&(k=F({schema:v,formModel:P,field:v.field,formInstance:s,values:A(A({},e(R)),P)})),k&&(S||b)){const{itemColSum:o,isAdvanced:r}=B(A(A({},b),S),l);l=o||0,r&&(p=l),v.isAdvanced=r}}y.actionSpan=p%G+e(g),B(e(w).actionColOptions||{span:G},l,!0),n("advanced-change")}function x(){y.isAdvanced=!y.isAdvanced}return{handleToggleAdvanced:x}},Yt={name:"SchemaForm"},tn=ne(H(A({},Yt),{props:gt,emits:yt,setup(s,{expose:n,emit:a}){const c=s,d=bt(),y=Nt({props:c,attrs:d}),{formModel:w,getRowConfig:f,schemaFormRef:P,getFormProps:R,getFormActionBindProps:g,formSchemasRef:B}=y,O=Ut(A({},y)),{initFormValues:x,handleFormValues:l,setFormModel:p,setItemRef:b,setSchemaFormProps:v}=O;x();const F=Wt(H(A({},y),{emit:a,handleFormValues:l}));$e(c,()=>v(c),{deep:!0,immediate:!0});const S=A(A(A({},y),F),O),{handleToggleAdvanced:k}=Jt({instance:S,emit:a});return a("register",S),Mt(S),n(S),(o,r)=>(M(),j(e(Se),W({ref_key:"schemaFormRef",ref:P},e(wt)(e(R),e(St)),{model:e(w)}),{default:V(()=>[I(e(At),Y(me(e(f))),{default:V(()=>[K(o.$slots,"formHeader"),(M(!0),vt(Te,null,re(e(B),t=>(M(),j(jt,{key:t.field,schema:t,"set-form-model":e(p),"form-model":e(w),"table-instance":o.tableInstance,"set-item-ref":e(b)(t)},ge({_:2},[re(Object.keys(o.$slots),i=>({name:i,fn:V(m=>[K(o.$slots,i,Y(me(m||{})))])}))]),1032,["schema","set-form-model","form-model","table-instance","set-item-ref"]))),128)),o.showActionButtonGroup?(M(),j(Et,W({key:0},e(g),{onToggleAdvanced:e(k)}),ge({_:2},[re(["resetBefore","submitBefore","advanceBefore","advanceAfter"],t=>({name:t,fn:V(i=>[K(o.$slots,t,Y(me(i||{})))])}))]),1040,["onToggleAdvanced"])):J("",!0),K(o.$slots,"formFooter")]),_:3},16)]),_:3},16,["model"]))}}));export{te as S,tn as _,Ie as d};
